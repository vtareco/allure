<?php/** * @copyright	Copyright (C) 2005 - 2012 Open Source Matters, Inc. All rights reserved. * @license		GNU General Public License version 2 or later; see LICENSE.txt */// No direct accessdefined('_JEXEC') or die;jimport('joomla.application.component.view');/** * View class for a list of users. */class obHelpDeskViewReplyTemplates extends obView{	protected $items;	protected $pagination;	protected $state;	/**	 * Display the view	 */	public function display($tpl = null)	{		$this->items		= $this->get('Items');		$this->pagination	= $this->get('Pagination');		$this->state		= $this->get('State');				$app = JFactory::getApplication();		$user = JFactory::getUser();		if(!($user->id && obHelpDeskUserHelper::is_staff($user->id) )) {			$msg = JText::_('Access denied');			$app->redirect(JRoute::_('index.php?option=com_obhelpdesk&view=error'), $msg, 'error');		}		// Check for errors.		if (count($errors = $this->get('Errors'))) {			JError::raiseError(500, implode("\n", $errors));			return false;		}		// Include the component HTML helpers.		JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');		$tid = (int)JRequest::getVar('tid', 0);		$this->ticket = obHelpDeskTicketHelper::load($tid);				parent::display($tpl);	}}